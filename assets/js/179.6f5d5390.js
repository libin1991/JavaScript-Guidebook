(window.webpackJsonp=window.webpackJsonp||[]).push([[179],{538:function(v,_,t){"use strict";t.r(_);var e=t(0),d=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var v=this,_=v.$createElement,t=v._self._c||_;return t("div",{staticClass:"content"},[t("h2",{attrs:{id:"键盘与文本事件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#键盘与文本事件","aria-hidden":"true"}},[v._v("#")]),v._v(" 键盘与文本事件")]),v._v(" "),t("p",[v._v("用户在使用键盘时会触发键盘事件。")]),v._v(" "),t("p",[v._v("键盘事件：")]),v._v(" "),t("ul",[t("li",[t("code",[v._v("keydown")]),v._v("：当用户按下键盘上的任意时触发，而且如果按住不放的话，会重复触发此事件")]),v._v(" "),t("li",[t("code",[v._v("keypress")]),v._v("：当用户按下键盘上的字符键时触发，而且如果按住不放的话，会重复触发此事件")]),v._v(" "),t("li",[t("code",[v._v("keyup")]),v._v("：当用户释放键盘上的键时触发")])]),v._v(" "),t("p",[v._v("文本事件：")]),v._v(" "),t("ul",[t("li",[t("code",[v._v("textInput")]),v._v("：在文本插入文本框之前会触发 "),t("code",[v._v("textInput")]),v._v(" 事件")])]),v._v(" "),t("p",[v._v("程序：")]),v._v(" "),t("p",[v._v("当用户按下一个键盘上的字符键："),t("code",[v._v("keydown")]),v._v(" -> "),t("code",[v._v("keypress")]),v._v(" -> "),t("code",[v._v("keyup")])]),v._v(" "),t("p",[v._v("当用户按下一个键盘上的非字符键："),t("code",[v._v("keydown")]),v._v(" -> "),t("code",[v._v("keyup")])]),v._v(" "),t("h3",{attrs:{id:"键码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#键码","aria-hidden":"true"}},[v._v("#")]),v._v(" 键码")]),v._v(" "),t("p",[v._v("在发生 "),t("code",[v._v("keydown")]),v._v(" 和 "),t("code",[v._v("keyup")]),v._v(" 事件时，"),t("code",[v._v("event")]),v._v(" 对象的 "),t("code",[v._v("keycode")]),v._v(" 属性中会包含一个代码，与键盘上一个特定的键对应。对数字字母字符键，"),t("code",[v._v("keycode")]),v._v(" 属性的值与ASCII码对应小写字母或数字的编码相同。")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("键")]),v._v(" "),t("th",[v._v("键码")]),v._v(" "),t("th",[v._v("键")]),v._v(" "),t("th",[v._v("键码")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("退格（Backspace）")]),v._v(" "),t("td",[v._v("8")]),v._v(" "),t("td",[v._v("数字小键盘9")]),v._v(" "),t("td",[v._v("105")])]),v._v(" "),t("tr",[t("td",[v._v("制表（Tab）")]),v._v(" "),t("td",[v._v("9")]),v._v(" "),t("td",[v._v("数字小键盘+")]),v._v(" "),t("td",[v._v("107")])]),v._v(" "),t("tr",[t("td",[v._v("回车（Enter）")]),v._v(" "),t("td",[v._v("13")]),v._v(" "),t("td",[v._v("数字小键盘及大键盘上的-")]),v._v(" "),t("td",[v._v("109")])]),v._v(" "),t("tr",[t("td",[v._v("上档（Shift）")]),v._v(" "),t("td",[v._v("16")]),v._v(" "),t("td",[v._v("数字小键盘.")]),v._v(" "),t("td",[v._v("110")])]),v._v(" "),t("tr",[t("td",[v._v("控制（Ctrl）")]),v._v(" "),t("td",[v._v("17")]),v._v(" "),t("td",[v._v("数字小键盘/")]),v._v(" "),t("td",[v._v("111")])]),v._v(" "),t("tr",[t("td",[v._v("Alt")]),v._v(" "),t("td",[v._v("18")]),v._v(" "),t("td",[v._v("F1")]),v._v(" "),t("td",[v._v("112")])]),v._v(" "),t("tr",[t("td",[v._v("暂停/中断（Pause/Break）")]),v._v(" "),t("td",[v._v("19")]),v._v(" "),t("td",[v._v("F2")]),v._v(" "),t("td",[v._v("113")])]),v._v(" "),t("tr",[t("td",[v._v("大写（Caps Lock）")]),v._v(" "),t("td",[v._v("20")]),v._v(" "),t("td",[v._v("F3")]),v._v(" "),t("td",[v._v("114")])]),v._v(" "),t("tr",[t("td",[v._v("退出（Esc）")]),v._v(" "),t("td",[v._v("27")]),v._v(" "),t("td",[v._v("F4")]),v._v(" "),t("td",[v._v("115")])]),v._v(" "),t("tr",[t("td",[v._v("上翻页（Page Up）")]),v._v(" "),t("td",[v._v("33")]),v._v(" "),t("td",[v._v("F5")]),v._v(" "),t("td",[v._v("116")])]),v._v(" "),t("tr",[t("td",[v._v("下翻页（Page Down）")]),v._v(" "),t("td",[v._v("34")]),v._v(" "),t("td",[v._v("F6")]),v._v(" "),t("td",[v._v("117")])]),v._v(" "),t("tr",[t("td",[v._v("结尾（End）")]),v._v(" "),t("td",[v._v("35")]),v._v(" "),t("td",[v._v("F7")]),v._v(" "),t("td",[v._v("118")])]),v._v(" "),t("tr",[t("td",[v._v("开头（Home）")]),v._v(" "),t("td",[v._v("36")]),v._v(" "),t("td",[v._v("F8")]),v._v(" "),t("td",[v._v("119")])]),v._v(" "),t("tr",[t("td",[v._v("左箭头（Left Arrow）")]),v._v(" "),t("td",[v._v("37")]),v._v(" "),t("td",[v._v("F9")]),v._v(" "),t("td",[v._v("120")])]),v._v(" "),t("tr",[t("td",[v._v("上箭头（Up Arrow）")]),v._v(" "),t("td",[v._v("38")]),v._v(" "),t("td",[v._v("F10")]),v._v(" "),t("td",[v._v("121")])]),v._v(" "),t("tr",[t("td",[v._v("右箭头（Right Arrow）")]),v._v(" "),t("td",[v._v("39")]),v._v(" "),t("td",[v._v("F11")]),v._v(" "),t("td",[v._v("122")])]),v._v(" "),t("tr",[t("td",[v._v("下箭头（Down Arrow）")]),v._v(" "),t("td",[v._v("40")]),v._v(" "),t("td",[v._v("F12")]),v._v(" "),t("td",[v._v("123")])]),v._v(" "),t("tr",[t("td",[v._v("插入（Ins）")]),v._v(" "),t("td",[v._v("45")]),v._v(" "),t("td",[v._v("数字锁")]),v._v(" "),t("td",[v._v("144")])]),v._v(" "),t("tr",[t("td",[v._v("删除（Del）")]),v._v(" "),t("td",[v._v("46")]),v._v(" "),t("td",[v._v("滚动锁")]),v._v(" "),t("td",[v._v("145")])]),v._v(" "),t("tr",[t("td",[v._v("左Windows键")]),v._v(" "),t("td",[v._v("91")]),v._v(" "),t("td",[v._v("分号（E/Safari/Chrome）")]),v._v(" "),t("td",[v._v("186")])]),v._v(" "),t("tr",[t("td",[v._v("右Windows键")]),v._v(" "),t("td",[v._v("91")]),v._v(" "),t("td",[v._v("分号（Opera/Firefox）")]),v._v(" "),t("td",[v._v("59")])]),v._v(" "),t("tr",[t("td",[v._v("上下文菜单键")]),v._v(" "),t("td",[v._v("93")]),v._v(" "),t("td",[v._v("小于")]),v._v(" "),t("td",[v._v("188")])]),v._v(" "),t("tr",[t("td",[v._v("数字小键盘0")]),v._v(" "),t("td",[v._v("96")]),v._v(" "),t("td",[v._v("大于")]),v._v(" "),t("td",[v._v("190")])]),v._v(" "),t("tr",[t("td",[v._v("数字小键盘1")]),v._v(" "),t("td",[v._v("97")]),v._v(" "),t("td",[v._v("正斜杠")]),v._v(" "),t("td",[v._v("191")])]),v._v(" "),t("tr",[t("td",[v._v("数字小键盘2")]),v._v(" "),t("td",[v._v("98")]),v._v(" "),t("td",[v._v("沉音符")]),v._v(" "),t("td",[v._v("192")])]),v._v(" "),t("tr",[t("td",[v._v("数字小键盘3")]),v._v(" "),t("td",[v._v("99")]),v._v(" "),t("td",[v._v("等于")]),v._v(" "),t("td",[v._v("61")])]),v._v(" "),t("tr",[t("td",[v._v("数字小键盘4")]),v._v(" "),t("td",[v._v("100")]),v._v(" "),t("td",[v._v("左方括号")]),v._v(" "),t("td",[v._v("219")])]),v._v(" "),t("tr",[t("td",[v._v("数字小键盘5")]),v._v(" "),t("td",[v._v("101")]),v._v(" "),t("td",[v._v("反斜杠")]),v._v(" "),t("td",[v._v("220")])]),v._v(" "),t("tr",[t("td",[v._v("数字小键盘6")]),v._v(" "),t("td",[v._v("102")]),v._v(" "),t("td",[v._v("右方括号")]),v._v(" "),t("td",[v._v("221")])]),v._v(" "),t("tr",[t("td",[v._v("数字小键盘7")]),v._v(" "),t("td",[v._v("103")]),v._v(" "),t("td",[v._v("单引号")]),v._v(" "),t("td",[v._v("222")])]),v._v(" "),t("tr",[t("td",[v._v("数字小键盘8")]),v._v(" "),t("td",[v._v("104")]),v._v(" "),t("td"),v._v(" "),t("td")])])]),v._v(" "),t("h3",{attrs:{id:"字符编码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#字符编码","aria-hidden":"true"}},[v._v("#")]),v._v(" 字符编码")]),v._v(" "),t("p",[t("code",[v._v("charCode")]),v._v(" 这个属性只有在发生 "),t("code",[v._v("keypress")]),v._v(" 事件才包含值，而且这个值是按下的那个键所代表字符的ASCⅡ编码，此时的 "),t("code",[v._v("keyCode")]),v._v(" 通常等于0或者也可能等于所按键的键码。")]),v._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[v._v("const")]),v._v(" EventUtil "),t("span",{pre:!0,attrs:{class:"token operator"}},[v._v("=")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("{")]),v._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("// 省略的代码")]),v._v("\n    "),t("span",{pre:!0,attrs:{class:"token function-variable function"}},[v._v("getCharCode")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(":")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[v._v("function")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[v._v("event")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(")")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("{")]),v._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[v._v("if")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[v._v("typeof")]),v._v(" event"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(".")]),v._v("charCode "),t("span",{pre:!0,attrs:{class:"token operator"}},[v._v("==")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[v._v("'number'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(")")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("{")]),v._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[v._v("return")]),v._v(" event"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(".")]),v._v("charCode"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(";")]),v._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("}")]),v._v("  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[v._v("else")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("{")]),v._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[v._v("return")]),v._v(" event"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(".")]),v._v("keyCode"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(";")]),v._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("}")]),v._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("}")]),v._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("}")]),v._v("\n")])])]),t("p",[v._v("这个方法首先检测 "),t("code",[v._v("charCode")]),v._v(" 属性是否包含数值（在不支持这个属性的浏览器中，值为 "),t("code",[v._v("undefined")]),v._v("），如果是，则返回改值。否则，就返回 "),t("code",[v._v("keyCode")]),v._v(" 属性值。")]),v._v(" "),t("h3",{attrs:{id:"textinput事件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#textinput事件","aria-hidden":"true"}},[v._v("#")]),v._v(" textInput事件")]),v._v(" "),t("p",[v._v("当用户在可编辑区域中输入字符时，就会触发这个事件。这个用于替代 "),t("code",[v._v("keypress")]),v._v(" 的 "),t("code",[v._v("textInput")]),v._v(" 事件的行为稍有不同。区别之一就是任何可以获得焦点的元素都可以触发 "),t("code",[v._v("keypress")]),v._v(" 事件，但只有可编辑区域才能触发 "),t("code",[v._v("textInput")]),v._v(" 事件。区别之二是 "),t("code",[v._v("textInput")]),v._v(" 事件只会在用户按下能够输入实际字符的键时才会被触发，而 "),t("code",[v._v("keypress")]),v._v(" 事件则在按下那些能够影响文本显示的键时也会触发（例如退格键）。")]),v._v(" "),t("p",[v._v("由于 "),t("code",[v._v("textInput")]),v._v(" 事件主要考虑的是字符，因此它的 "),t("code",[v._v("event")]),v._v(" 对象中还包含一个 "),t("code",[v._v("deta")]),v._v(" 属性，这个属性的值就是用户输入的字符（而非字符编码）。换句话说，用户在没有按上档键的情况下按下了 S 键，"),t("code",[v._v("data")]),v._v(" 的值就是 "),t("code",[v._v('"s"')]),v._v("，而如果在按住上档键时按下该键，"),t("code",[v._v("data")]),v._v(" 的值就是 "),t("code",[v._v('"S"')]),v._v("。")]),v._v(" "),t("h3",{attrs:{id:"设备中的键盘事件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设备中的键盘事件","aria-hidden":"true"}},[v._v("#")]),v._v(" 设备中的键盘事件")]),v._v(" "),t("p",[v._v("任天堂 Wii 会在用户按下 Wii 遥控器上的按键时触发键盘事件。尽管没有办法访问 Wii 遥控器中的所有按键，但还是有一些键可以触发键盘事件。")]),v._v(" "),t("p",[v._v("当用户按下十字键盘（键码为175～178）、减号（170）、加号（174）、1（172）或2（173）键时就会触发键盘事件。但没有办法得知用户是否按下了电源开关、A、B或主页键。")]),v._v(" "),t("p",[v._v("iOS版 Safari 和 Android 版 Webkit 在使用屏幕键盘时会触发键盘事件。")])])}],!1,null,null,null);_.default=d.exports}}]);