(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{260:function(t,_,e){"use strict";e.r(_);var v=e(0),i=Object(v.a)({},function(){var t=this,_=t.$createElement,e=t._self._c||_;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),e("p",[t._v("DNS（DomainNameSystem）系统用于命名阻止到域层次结构中的计算机和网络服务。")]),t._v(" "),e("p",[t._v("使用 IP 地址而非使用域名进行通信的原因：")]),t._v(" "),t._m(1),t._v(" "),e("p",[t._v("总结来说就是 IP 面向主机，域名面向用户。")]),t._v(" "),t._m(2),t._v(" "),e("p",[t._v("域名和 IP 的对应关系保存在一个叫 hosts 文件中。")]),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),e("p",[t._v("在域名解析的过程中仍然会优先查找 hosts 文件的内容。")]),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),e("p",[t._v("域名服务是基于 UDP 实现的，服务器的端口号为 53。")]),t._v(" "),e("p",[t._v("🌰 例如：")]),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),e("p",[t._v("域名可以划分为各个子域，子域还可以继续划分为子域的子域，这样就形成了顶级域、二级域、三级域等。")]),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),e("p",[t._v("域名是分层结构，域名服务器也是对应的层级结构。")]),t._v(" "),e("p",[t._v("域名服务器 => 装有域名系统的主机")]),t._v(" "),e("p",[t._v("由高到低进行层次划分。")]),t._v(" "),t._m(14),t._v(" "),e("p",[t._v("⚠️ 一个域名服务器所负责的范围，或者说有管理权限的范围，就称为区。")]),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),e("p",[t._v("DNS 是一种实用 UDP 协议进行域名查询的协议，其最主要的目标就是将域名转换为 IP 地址。")]),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),e("p",[t._v("在查询没有结果时，设备最终会开始向域名服务器发起查询请求。公共域名服务器一般就是用户的 ISP 提供的。这种公共域名服务器通常会缓存查询结果，因此如果缓存命中，查询就可以到此结束。当然缓存本身是有时效的，这个时效就被称为 TTL。对于超过时效的查询结果，域名服务器有义务重新发起查询请求。但查询本身是非常消耗流量的事情，因此也有一些公共服务器不严格遵守 TTL，超时缓存。")]),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),e("hr"),t._v(" "),t._m(25),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://blog.csdn.net/baidu_37964071/article/details/80500825",target:"_blank",rel:"noopener noreferrer"}},[t._v("DNS（域名解析协议）详解"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.tuicool.com/articles/V7JN32Z",target:"_blank",rel:"noopener noreferrer"}},[t._v("从输入 URL 到页面加载完成的过程中都发生了什么"),e("OutboundLink")],1)])])])},[function(){var t=this.$createElement,_=this._self._c||t;return _("h2",{attrs:{id:"dns-域名解析协议"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#dns-域名解析协议","aria-hidden":"true"}},[this._v("#")]),this._v(" DNS 域名解析协议")])},function(){var t=this.$createElement,_=this._self._c||t;return _("ul",[_("li",[this._v("IP 地址是固定长度，IPv4 是 32 位，IPv6 是 128 位，而域名是变长的，不便于计算机处理")]),this._v(" "),_("li",[this._v("IP 地址对于用户来说不方便记忆，但域名便于用户使用")])])},function(){var t=this.$createElement,_=this._self._c||t;return _("p",[this._v("⛳️ "),_("em",[_("strong",[this._v("hosts")])])])},function(){var t=this.$createElement,_=this._self._c||t;return _("h2",{attrs:{id:"dns-系统"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#dns-系统","aria-hidden":"true"}},[this._v("#")]),this._v(" DNS 系统")])},function(){var t=this.$createElement,_=this._self._c||t;return _("ol",[_("li",[this._v("一个组织的系统管理机构，维护系统内的每个主机的 IP 和主机名的对应关系")]),this._v(" "),_("li",[this._v("如果新计算机接入网络，将这个信息注册到数据库中")]),this._v(" "),_("li",[this._v("用户输入域名的时候，会自动查询 DNS 服务器，由 DNS 服务器检索数据库，得到对应的 IP 地址\n我们可以通过命令查看自己的 "),_("code",[this._v("hosts")]),this._v(" 文件")])])},function(){var t=this.$createElement,_=this._self._c||t;return _("h2",{attrs:{id:"dns-域名结构"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#dns-域名结构","aria-hidden":"true"}},[this._v("#")]),this._v(" DNS 域名结构")])},function(){var t=this.$createElement,_=this._self._c||t;return _("h3",{attrs:{id:"域名的层次结构"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#域名的层次结构","aria-hidden":"true"}},[this._v("#")]),this._v(" 域名的层次结构")])},function(){var t=this.$createElement,_=this._self._c||t;return _("p",[_("strong",[this._v("域名系统必须要保持唯一性。")])])},function(){var t=this.$createElement,_=this._self._c||t;return _("ol",[_("li",[this._v("每个域名都是一个标号序列，用字母（大小写等价）、数字（0-9）和连接符（-）组成")]),this._v(" "),_("li",[this._v("标号序列总长度不能超过 255 个字符，它由点号分割成一个个的标号")]),this._v(" "),_("li",[this._v("每个标号应该在 63 个字符之内，每个标号都可以堪称一个层次的域名")]),this._v(" "),_("li",[this._v("级别最低的域名写在左边，级别最高的域名写在右边")])])},function(){var t=this.$createElement,_=this._self._c||t;return _("p",[_("code",[this._v("www.google.com")])])},function(){var t=this,_=t.$createElement,e=t._self._c||_;return e("ul",[e("li",[e("code",[t._v("com")]),t._v(" 一级域名，表示这是个企业域名")]),t._v(" "),e("li",[e("code",[t._v("google")]),t._v(" 二级域名，表示公司名")]),t._v(" "),e("li",[e("code",[t._v("www")]),t._v(" 万维网")])])},function(){var t=this.$createElement,_=this._self._c||t;return _("h3",{attrs:{id:"域名的分级"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#域名的分级","aria-hidden":"true"}},[this._v("#")]),this._v(" 域名的分级")])},function(){var t=this,_=t.$createElement,e=t._self._c||_;return e("table",[e("thead",[e("tr",[e("th",[t._v("顶级域名")]),t._v(" "),e("th",[t._v("标识")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("国家顶级域名")]),t._v(" "),e("td",[t._v("中国 "),e("code",[t._v("cn")]),t._v("；美国 "),e("code",[t._v("us")]),t._v("；英国 "),e("code",[t._v("uk")])])]),t._v(" "),e("tr",[e("td",[t._v("通用顶级域名")]),t._v(" "),e("td",[t._v("公司企业 "),e("code",[t._v("com")]),t._v("；教育机构 "),e("code",[t._v("edu")]),t._v("；政府部门 "),e("code",[t._v("gov")]),t._v("；国际组织 "),e("code",[t._v("int")]),t._v("；军事部门 "),e("code",[t._v("mil")]),t._v("；网络 "),e("code",[t._v("net")]),t._v("；非盈利组织 "),e("code",[t._v("org")])])]),t._v(" "),e("tr",[e("td",[t._v("反向域名")]),t._v(" "),e("td",[t._v("arpa 用于 PTR 查询（IP 地址转换为域名）")])])])])},function(){var t=this.$createElement,_=this._self._c||t;return _("h2",{attrs:{id:"域名服务器"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#域名服务器","aria-hidden":"true"}},[this._v("#")]),this._v(" 域名服务器")])},function(){var t=this,_=t.$createElement,e=t._self._c||_;return e("table",[e("thead",[e("tr",[e("th",[t._v("分类")]),t._v(" "),e("th",[t._v("作用")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("根域名服务器")]),t._v(" "),e("td",[t._v("最高层次的域名服务器，本地域名服务器解析不了的域名就会向其求助")])]),t._v(" "),e("tr",[e("td",[t._v("顶级域名服务器")]),t._v(" "),e("td",[t._v("负责管理在该顶级域名服务器下注册的耳机线域名")])]),t._v(" "),e("tr",[e("td",[t._v("权限域名服务器")]),t._v(" "),e("td",[t._v("负责一个区的域名解析工作")])]),t._v(" "),e("tr",[e("td",[t._v("本地域名服务器")]),t._v(" "),e("td",[t._v("当一个主机发出 DNS 查询请求时，这个查询请求首先发给本地域名服务器")])])])])},function(){var t=this.$createElement,_=this._self._c||t;return _("blockquote",[_("ol",[_("li",[this._v("每个层的域名上都有自己的域名服务器，最顶层的是根域名服务器")]),this._v(" "),_("li",[this._v("每一级域名服务器都知道下级域名服务器的 IP 地址")]),this._v(" "),_("li",[this._v("为了容灾, 每一级至少设置两个或以上的域名服务器")])])])},function(){var t=this.$createElement,_=this._self._c||t;return _("h2",{attrs:{id:"域名解析过程"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#域名解析过程","aria-hidden":"true"}},[this._v("#")]),this._v(" 域名解析过程")])},function(){var t=this.$createElement,_=this._self._c||t;return _("p",[this._v("以查询 "),_("code",[this._v("www.meituan.com")]),this._v(" 对应的 IP 地址为例，操作系统首先会在本地尝试解析，比如使用众所周知的 "),_("code",[this._v("hosts")]),this._v(" 文件，同时如果有解析缓存的话，操作系统也会去查询。如果是在浏览器中进行查询，浏览器自己有时也会有解析缓存。")])},function(){var t=this,_=t.$createElement,e=t._self._c||_;return e("ul",[e("li",[t._v("用户设备\n"),e("ul",[e("li",[t._v("浏览器可能会缓存域名解析")]),t._v(" "),e("li",[t._v("用户系统中可以有自己的域名映射表")])])]),t._v(" "),e("li",[t._v("公共域名服务器\n"),e("ul",[e("li",[t._v("通常由 ISP 提供")]),t._v(" "),e("li",[t._v("缓存上一级域名服务器的结果")])])])])},function(){var t=this.$createElement,_=this._self._c||t;return _("p",[this._v("未命名缓存的查询，公共服务器会向顶级域名服务器进行查询。以上述例子来说，因为公共域名服务器不知道 "),_("code",[this._v("meituan.com")]),this._v(" 的解析权归谁，因此它会向顶级域名服务器——"),_("code",[this._v("com")]),this._v(" 域名服务器发起请求，寻找 "),_("code",[this._v("meituan.com")]),this._v(" 对应的域名服务器。顶级域名服务器一般是由域名经营机构来维护的，有些甚至归属国家机关管理，例如国别域名。理论上来说，在顶级域名服务器之上还有一个根域名服务器，不过在平时很难意识到它的存在。")])},function(){var t=this.$createElement,_=this._self._c||t;return _("ul",[_("li",[this._v("公共域名服务器\n"),_("ul",[_("li",[this._v("DNS 级联的特性决定了中途可以有更多域名服务器")])])]),this._v(" "),_("li",[this._v("顶级域名服务器\n"),_("ul",[_("li",[this._v("由顶级域名经营机构维护")]),this._v(" "),_("li",[this._v("可细分为与国家、通用")])])])])},function(){var t=this.$createElement,_=this._self._c||t;return _("p",[this._v("在查找到 "),_("code",[this._v("meituan.com")]),this._v(" 的域名服务器之后，就可以向域名服务器查询 "),_("code",[this._v("www.meituan.com")]),this._v(" 的 IP 了。这个过程是由上到下指定下来的，所以这种域名服务器可以被称为权威域名服务器。对于开发者来说，我们自己平时在域名服务器那里购买到域名之后，录入自己域名对应的 IP，其实就是在向权威域名服务器录入信息。一些大型企业会自己维护权威域名服务器，这样既可以抵御一些针对性的攻击，同时也可以更好地优化解析的速度。")])},function(){var t=this.$createElement,_=this._self._c||t;return _("ul",[_("li",[this._v("公共域名服务器")]),this._v(" "),_("li",[this._v("权威域名服务器\n"),_("ul",[_("li",[this._v("通常由专业的域名服务机构提供")]),this._v(" "),_("li",[this._v("购买域名时一般会提供")])])])])},function(){var t=this.$createElement,_=this._self._c||t;return _("p",[_("strong",[this._v("解析步骤：")])])},function(){var t=this,_=t.$createElement,e=t._self._c||_;return e("ol",[e("li",[t._v("主机先向本地域名服务器进行递归查询")]),t._v(" "),e("li",[t._v("本地域名服务器采用迭代查询，向一个根域名服务器进行查询")]),t._v(" "),e("li",[t._v("根域名服务器告诉本地域名服务器，下一次应该查询的顶级域名服务器的 IP 地址")]),t._v(" "),e("li",[t._v("本地域名服务器向顶级域名服务器进行查询")]),t._v(" "),e("li",[t._v("顶级域名服务器告诉本地域名服务器，下一步查询权限服务器的 IP 地址")]),t._v(" "),e("li",[t._v("本地域名服务器向权限服务器进行查询")]),t._v(" "),e("li",[t._v("权限服务器告诉本地域名服务器所查询的主机的 IP 地址")]),t._v(" "),e("li",[t._v("本地域名服务器最后把查询结果告诉主机")])])},function(){var t=this.$createElement,_=this._self._c||t;return _("p",[_("strong",[this._v("参考资料：")])])}],!1,null,null,null);_.default=i.exports}}]);