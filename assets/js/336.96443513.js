(window.webpackJsonp=window.webpackJsonp||[]).push([[336],{299:function(t,r,e){"use strict";e.r(r);var a=e(0),s=Object(a.a)({},function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),e("p",[t._v("JavaScript 中的 Array 类型，因为有很多功能，而且是不限制类型的，或者它还可能是稀疏的。而如果你从 XHR、FileAPI、Canvas等各种地方，读取了一大串字节流，如果用 JavaScript 里的 Array 去存储，不仅浪费空间且低效。于是为了配合这些新的API，增强 JavaScript 的二进制处理能力，就有了 ArrayBuffer。")]),t._v(" "),t._m(2),t._v(" "),e("p",[t._v("使用场景：上传图片读取和显示、Canvas转换图片下载、WebGL等")]),t._v(" "),t._m(3),t._v(" "),t._m(4),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/WindowBase64/Base64_encoding_and_decoding#Appendix.3A_Decode_a_Base64_string_to_Uint8Array_or_ArrayBuffer",target:"_blank",rel:"noopener noreferrer"}},[t._v("从 Base64 字符串"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/FileReader#readAsArrayBuffer()",target:"_blank",rel:"noopener noreferrer"}},[t._v("从本地文件"),e("OutboundLink")],1)])]),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._m(26),t._v(" "),t._m(27),t._v(" "),e("p",[t._v("目前，JavaScript 提供以下类型的视图：")]),t._v(" "),t._m(28),t._v(" "),e("p",[t._v("每一种视图都有一个BYTES_PER_ELEMENT常数，表示这种数据类型占据的字节数。")]),t._v(" "),t._m(29),e("p",[t._v("每一种视图都是一个构造函数，有多种方法可以生成。")]),t._v(" "),t._m(30)])},[function(){var t=this.$createElement,r=this._self._c||t;return r("h1",{attrs:{id:"arraybuffer-对象"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#arraybuffer-对象","aria-hidden":"true"}},[this._v("#")]),this._v(" ArrayBuffer 对象")])},function(){var t=this.$createElement,r=this._self._c||t;return r("p",[r("code",[this._v("ArrayBuffer")]),this._v(" 对象用来表示通用的、固定长度的原始二进制数据缓冲区。"),r("code",[this._v("ArrayBuffer")]),this._v(" 不能直接操作，而是要通过类型数组对象 或 "),r("code",[this._v("DataView")]),this._v(" 对象来操作，它们会将缓冲区中的数据表示为特定的格式，并通过这些格式来读写缓冲区的内容。")])},function(){var t=this.$createElement,r=this._self._c||t;return r("p",[this._v("ArrayBuffer 简单来说就是一片内存，但是你不能（也不方便）直接访问它里面的字节。而要访问 ArrayBuffer，则需要通过 Typed Array 类型引用。（可以将 ArrayBuffer 理解为"),r("strong",[this._v("带类型的高速数组")]),this._v("或"),r("strong",[this._v("类型化数组")]),this._v("）")])},function(){var t=this.$createElement,r=this._self._c||t;return r("h2",{attrs:{id:"语法"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#语法","aria-hidden":"true"}},[this._v("#")]),this._v(" 语法")])},function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayBuffer")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("length"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,r=this._self._c||t;return r("h3",{attrs:{id:"参数"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参数","aria-hidden":"true"}},[this._v("#")]),this._v(" 参数")])},function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",[t._v("类型")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("length")])]),t._v(" "),e("td",[e("code",[t._v("Number")]),t._v(" 类型")]),t._v(" "),e("td",[t._v("要创建的 "),e("code",[t._v("ArrayBuffer")]),t._v(" 的大小，单位为字节。")])])])])},function(){var t=this.$createElement,r=this._self._c||t;return r("h3",{attrs:{id:"返回值"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#返回值","aria-hidden":"true"}},[this._v("#")]),this._v(" 返回值")])},function(){var t=this.$createElement,r=this._self._c||t;return r("p",[this._v("一个指定大小的 "),r("code",[this._v("ArrayBuffer")]),this._v(" 对象，其内容被初始化为 0。")])},function(){var t=this.$createElement,r=this._self._c||t;return r("h3",{attrs:{id:"描述"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#描述","aria-hidden":"true"}},[this._v("#")]),this._v(" 描述")])},function(){var t=this.$createElement,r=this._self._c||t;return r("p",[r("code",[this._v("ArrayBuffer")]),this._v(" 构造函数用来创建一个指定字节长度的 "),r("code",[this._v("ArrayBuffer")]),this._v(" 对象。")])},function(){var t=this.$createElement,r=this._self._c||t;return r("p",[r("strong",[this._v("以现有数据获取 ArrayBuffer")])])},function(){var t=this.$createElement,r=this._self._c||t;return r("h2",{attrs:{id:"arraybuffer-构造函数"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#arraybuffer-构造函数","aria-hidden":"true"}},[this._v("#")]),this._v(" ArrayBuffer 构造函数")])},function(){var t=this.$createElement,r=this._self._c||t;return r("h3",{attrs:{id:"属性"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#属性","aria-hidden":"true"}},[this._v("#")]),this._v(" 属性")])},function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("table",[e("thead",[e("tr",[e("th",[t._v("属性")]),t._v(" "),e("th",[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("ArrayBuffer.length")])]),t._v(" "),e("td",[t._v("ArrayBuffer 构造函数的 length 属性，其值为1。")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("get ArrayBuffer[@@species]")])]),t._v(" "),e("td",[t._v("返回 ArrayBuffer 的构造函数。")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("ArrayBuffer.prototype")])]),t._v(" "),e("td",[t._v("通过 ArrayBuffer 的原型对象可以为所有 ArrayBuffer 对象添加属性。")])])])])},function(){var t=this.$createElement,r=this._self._c||t;return r("h3",{attrs:{id:"方法"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#方法","aria-hidden":"true"}},[this._v("#")]),this._v(" 方法")])},function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("table",[e("thead",[e("tr",[e("th",[t._v("方法")]),t._v(" "),e("th",[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("ArrayBuffer.isView(arg)")])]),t._v(" "),e("td",[t._v("如果参数是 ArrayBuffer 的视图实例则返回 "),e("code",[t._v("true")]),t._v("，例如 类型数组对象 或 "),e("code",[t._v("DataView")]),t._v(" 对象；否则返回 "),e("code",[t._v("false")]),t._v("。")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("ArrayBuffer.transfer(oldBuffer [, newByteLength]);")])]),t._v(" "),e("td",[t._v("返回一个新的 ArrayBuffer 对象，其内容取自 "),e("code",[t._v("oldBuffer")]),t._v(" 中的数据，并且根据 "),e("code",[t._v("newByteLength")]),t._v(" 的大小对数据进行截取或补 0。")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("ArrayBuffer.slice()")])]),t._v(" "),e("td",[t._v("和 "),e("code",[t._v("ArrayBuffer.prototype.slice()")]),t._v(" 功能相同。")])])])])},function(){var t=this.$createElement,r=this._self._c||t;return r("h2",{attrs:{id:"arraybuffer实例"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#arraybuffer实例","aria-hidden":"true"}},[this._v("#")]),this._v(" ArrayBuffer实例")])},function(){var t=this.$createElement,r=this._self._c||t;return r("h3",{attrs:{id:"属性-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#属性-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 属性")])},function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("table",[e("thead",[e("tr",[e("th",[t._v("属性")]),t._v(" "),e("th",[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("ArrayBuffer.prototype.constructor")])]),t._v(" "),e("td",[t._v("指定函数，它创建一个对象的原型。其初始值是标准ArrayBuffer内置构造函数。")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("ArrayBuffer.prototype.byteLength")])]),t._v(" "),e("td",[t._v("数组的字节大小。在数组创建时确定，并且不可变更。"),e("strong",[t._v("只读")]),t._v("。")])])])])},function(){var t=this.$createElement,r=this._self._c||t;return r("h3",{attrs:{id:"方法-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#方法-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 方法")])},function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("table",[e("thead",[e("tr",[e("th",[t._v("方法")]),t._v(" "),e("th",[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("ArrayBuffer.prototype.slice()")])]),t._v(" "),e("td",[t._v("返回一个新的 "),e("code",[t._v("ArrayBuffer")]),t._v(" ，它的内容是这个 "),e("code",[t._v("ArrayBuffer")]),t._v(" 的字节副本，从 "),e("code",[t._v("begin")]),t._v("（包括），到 "),e("code",[t._v("end")]),t._v("（不包括）。如果 "),e("code",[t._v("begin")]),t._v(" 或 "),e("code",[t._v("end")]),t._v(" 是负数，则指的是从数组末尾开始的索引，而不是从头开始。")])])])])},function(){var t=this.$createElement,r=this._self._c||t;return r("h2",{attrs:{id:"示例"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#示例","aria-hidden":"true"}},[this._v("#")]),this._v(" 示例")])},function(){var t=this.$createElement,r=this._self._c||t;return r("h3",{attrs:{id:"标准示例"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#标准示例","aria-hidden":"true"}},[this._v("#")]),this._v(" 标准示例")])},function(){var t=this.$createElement,r=this._self._c||t;return r("p",[this._v("下面的例子创建了一个 8 字节的缓冲区，并使用一个 "),r("code",[this._v("Int32Array")]),this._v(" 来引用它：")])},function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" buffer "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayBuffer")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" view   "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Int32Array")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("buffer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,r=this._self._c||t;return r("h3",{attrs:{id:"视图生成"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#视图生成","aria-hidden":"true"}},[this._v("#")]),this._v(" 视图生成")])},function(){var t=this.$createElement,r=this._self._c||t;return r("p",[this._v("ArrayBuffer 作为内存区域，可以存放多种类型的数据。不同数据有不同的存储方式，这就叫做"),r("strong",[this._v("视图")]),this._v("。")])},function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("ul",[e("li",[t._v("Int8Array：8位有符号整数，长度1个字节。")]),t._v(" "),e("li",[t._v("Uint8Array：8位无符号整数，长度1个字节。")]),t._v(" "),e("li",[t._v("Int16Array：16位有符号整数，长度2个字节。")]),t._v(" "),e("li",[t._v("Uint16Array：16位无符号整数，长度2个字节。")]),t._v(" "),e("li",[t._v("Int32Array：32位有符号整数，长度4个字节。")]),t._v(" "),e("li",[t._v("Uint32Array：32位无符号整数，长度4个字节。")]),t._v(" "),e("li",[t._v("Float32Array：32位浮点数，长度4个字节。")]),t._v(" "),e("li",[t._v("Float64Array：64位浮点数，长度8个字节。")])])},function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("Int8Array"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("BYTES_PER_ELEMENT")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1")]),t._v("\nUint8Array"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("BYTES_PER_ELEMENT")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n")])])])},function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 浏览器控制台输出：")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Int32Array\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Int32Array")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("native code"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])}],!1,null,null,null);r.default=s.exports}}]);